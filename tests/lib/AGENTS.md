# tests/lib 目录指南

## 测试范围
- 针对 `@/lib` 中的纯函数与算法编写单元测试，确保数值精度、边界条件及异常分支覆盖。
- 对需要 Canvas、IndexedDB 等浏览器能力的模块，使用可控的 mock 或 polyfill。

## 编写建议
- 使用表驱动测试（数组用例）覆盖多种输入输出场景，减少重复代码。
- 对复杂数学/几何逻辑，附加注释说明公式来源或推导过程，便于未来维护。
- 必要时编写基准断言，确保运算结果在允许的误差范围内（例如使用 `toBeCloseTo`）。

## 运行注意事项
- 若使用 fake timers 或全局 mock，请在测试结束后恢复原状，避免影响其他用例。
