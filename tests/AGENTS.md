# tests 目录指南

## 测试框架
- 默认使用 Vitest + React Testing Library；如需端到端测试，请在 `tests/e2e` 新建子目录并单独说明。
- 测试文件命名遵循 `*.test.ts`/`*.test.tsx`，并与被测模块目录结构保持一致。

## 编写规范
- 每个测试文件顶部以中文注释简述覆盖的功能点，方便快速检索。
- 断言应关注用户行为和可观察结果，避免对内部实现细节（如私有函数）做硬编码。
- 若依赖异步行为，请使用 `await` 与 `findBy*` API，避免显式定时器等待。

## 组织结构
- `components/`、`context/`、`lib/` 等子目录对应源码中的模块层级，新增测试时请放入匹配的目录。
- 公用测试工具或 mock 请集中放在 `tests/utils`（若不存在可新建）并在文件顶部注明用途。

## 运行说明
- 提交前建议运行 `npm test` 或 `npx vitest run`，CI 环境需要确保无快照差异。
